/* ================================================================
   MAP.CSS — Map page styles
   Consumes theme tokens. Per-theme overrides at bottom.
   ================================================================ */

.map-container {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 28px;
  margin-top: 28px;
  position: relative;
  z-index: 1;
}

/* ── ASCII Map ── */
.ascii-map {
  font-family: 'Courier New', monospace;
  font-size: 0.9em;
  color: var(--cp-accent, var(--cp-cyan));
  background: rgba(0,0,0,0.7);
  border: var(--card-border, 1px solid var(--cp-yellow));
  border-radius: var(--radius, 0);
  padding: 20px;
  overflow-x: auto;
  text-shadow: var(--glow-text, none);
  line-height: 1.4;
  clip-path: var(--clip-corner, none);
  transition: border-color 0.3s;
}

body.theme-cp77 .ascii-map {
  border: none;
  border-left: 3px solid #fcee09;
  border-top: none;
  clip-path: none;
  text-shadow: none;
  color: rgba(255,255,255,0.75);
}

body.theme-drip .ascii-map {
  border: none;
  border-bottom: 3px solid #ff2d55;
  clip-path: none;
  color: rgba(255,255,255,0.7);
  text-shadow: none;
  background: transparent;
}

body.theme-terminal .ascii-map {
  border: 1px solid rgba(0,255,65,0.2);
  color: #00ff41;
  text-shadow: 0 0 4px rgba(0,255,65,0.4);
  background: rgba(0,0,0,0.9);
  clip-path: none;
}

/* ── Clickable regions on the map ── */
.map-region {
  cursor: pointer;
  color: var(--cp-yellow, #fcee09);
  transition: all 0.2s;
  text-shadow: var(--glow-text, none);
}

.map-region:hover {
  color: var(--cp-accent, var(--cp-cyan));
  text-shadow: var(--glow, none);
  font-weight: bold;
}

body.theme-cp77 .map-region       { color: #fcee09; text-shadow: none; }
body.theme-cp77 .map-region:hover { color: #fff; text-shadow: none; font-weight: bold; }

body.theme-drip .map-region       { color: #ff2d55; text-shadow: none; }
body.theme-drip .map-region:hover { color: #fff; }

body.theme-terminal .map-region       { color: rgba(0,255,65,0.6); text-shadow: none; }
body.theme-terminal .map-region:hover { color: #00ff41; text-shadow: 0 0 8px #00ff41; }

/* ── District buttons ── */
.district-buttons {
  display: flex;
  flex-wrap: wrap;
  gap: 12px;
  justify-content: center;
  max-width: 800px;
}

.district-btn {
  background: var(--btn-primary-bg, rgba(0,240,255,0.08));
  border: 1px solid var(--btn-primary-border, var(--cp-yellow));
  color: var(--btn-primary-color, var(--cp-yellow));
  padding: 14px 26px;
  cursor: pointer;
  font-family: var(--font-body, 'Share Tech Mono', monospace);
  font-size: 0.85em;
  font-weight: bold;
  letter-spacing: 0.12em;
  text-transform: uppercase;
  transition: all 0.2s;
  border-radius: var(--radius-sm, 0);
  min-width: 180px;
  clip-path: var(--clip-corner-sm, none);
}

.district-btn:hover {
  background: var(--btn-primary-hover-bg, rgba(0,240,255,0.15));
  box-shadow: var(--btn-primary-hover-shadow, none);
  transform: translateY(-2px);
  color: var(--btn-primary-hover-color, var(--cp-yellow));
}

/* CP77 */
body.theme-cp77 .district-btn {
  background: #111;
  border: none;
  border-left: 3px solid #fcee09;
  color: rgba(255,255,255,0.75);
  clip-path: none;
  transform: none !important;
}

body.theme-cp77 .district-btn:hover {
  background: #1a1a1a;
  color: #fcee09;
  box-shadow: none;
}

/* DRIP */
body.theme-drip .district-btn {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 1em;
  font-weight: 900;
  letter-spacing: 0.15em;
  border: none;
  border-bottom: 2px solid rgba(255,45,85,0.3);
  background: transparent;
  color: rgba(255,255,255,0.6);
  clip-path: none;
  transform: none !important;
}

body.theme-drip .district-btn:hover {
  color: #ff2d55;
  border-bottom-color: #ff2d55;
  background: transparent;
  box-shadow: none;
}

/* Terminal */
body.theme-terminal .district-btn {
  font-family: 'VT323', monospace;
  font-size: 1.1em;
  letter-spacing: 0.1em;
  border-color: rgba(0,255,65,0.3);
  color: rgba(0,255,65,0.7);
  clip-path: none;
}

body.theme-terminal .district-btn:hover {
  background: rgba(0,255,65,0.07);
  border-color: #00ff41;
  color: #00ff41;
  box-shadow: 0 0 10px rgba(0,255,65,0.2);
  transform: none;
}

/* ── District info panel ── */
.district-info {
  background: var(--card-bg, #0a0a0a);
  border: var(--card-border, 1px solid var(--cp-yellow));
  border-radius: var(--radius, 0);
  padding: 28px;
  margin-top: 28px;
  position: relative;
  max-width: 900px;
  margin-left: auto;
  margin-right: auto;
  clip-path: var(--clip-corner, none);
  animation: cyberOpen 0.35s cubic-bezier(0.2,1,0.3,1) forwards;
}

.district-info.closing {
  animation: cyberClose 0.35s cubic-bezier(0.2,1,0.3,1) forwards;
}

body.theme-cp77 .district-info {
  border: none;
  border-left: 3px solid #fcee09;
  clip-path: none;
}

body.theme-drip .district-info {
  border: none;
  border-top: 3px solid #ff2d55;
  clip-path: none;
  background: transparent;
}

body.theme-terminal .district-info {
  border: 1px solid rgba(0,255,65,0.2);
  clip-path: none;
}

/* ── Close button ── */
.close-info {
  position: absolute;
  top: 14px; right: 18px;
  font-size: 1.6em;
  color: var(--cp-yellow, #fcee09);
  cursor: pointer;
  background: none;
  border: none;
  line-height: 1;
  transition: color 0.2s, transform 0.2s;
  font-family: var(--font-body, inherit);
}

.close-info:hover {
  color: var(--cp-danger, var(--cp-red));
  transform: rotate(90deg);
}

body.theme-terminal .close-info { font-family: 'VT323', monospace; }

/* ── District title ── */
.district-title {
  font-family: var(--font-display, inherit);
  font-size: 1.8em;
  color: var(--cp-yellow, #fcee09);
  margin-bottom: 12px;
  text-shadow: var(--h1-shadow, none);
  text-transform: uppercase;
  letter-spacing: 0.08em;
  transition: color 0.3s;
}

body.theme-cp77 .district-title { color: #fcee09; text-shadow: none; }
body.theme-drip .district-title  {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 3em;
  font-weight: 900;
  color: #fff;
  line-height: 0.95;
  letter-spacing: -0.01em;
}
body.theme-terminal .district-title { color: #00ff41; text-shadow: 0 0 8px #00ff41; }

/* ── District description ── */
.district-description {
  color: var(--cp-text-muted, rgba(0,240,255,0.75));
  line-height: 1.8;
  margin-bottom: 18px;
  font-family: var(--font-body, inherit);
  font-size: 0.9em;
}

body.theme-cp77 .district-description  { color: rgba(255,255,255,0.6); }
body.theme-drip .district-description  { color: rgba(255,255,255,0.55); font-family: 'Barlow Condensed', sans-serif; font-size: 1.1em; }
body.theme-terminal .district-description { color: rgba(0,255,65,0.65); }

/* ── District features ── */
.district-features { margin-top: 18px; }

.district-features h3 {
  font-family: var(--font-display, inherit);
  color: var(--cp-accent, var(--cp-cyan));
  margin-bottom: 8px;
  font-size: 0.85em;
  letter-spacing: 0.15em;
  text-transform: uppercase;
}

body.theme-drip .district-features h3 {
  font-family: 'Barlow Condensed', sans-serif;
  font-size: 0.75em;
  font-weight: 700;
  letter-spacing: 0.3em;
  color: rgba(255,45,85,0.7);
}

body.theme-terminal .district-features h3 { color: rgba(0,255,65,0.6); }

.district-features ul { list-style: none; padding: 0; }

.district-features li {
  padding: 7px 7px 7px 14px;
  margin: 4px 0;
  background: var(--cp-surface, rgba(0,240,255,0.04));
  border-left: 2px solid var(--cp-yellow, #fcee09);
  font-size: 0.88em;
  color: var(--cp-text-muted, rgba(255,255,255,0.6));
  transition: all 0.15s;
}

.district-features li:hover {
  background: var(--cp-surface2, rgba(0,240,255,0.07));
  color: var(--cp-text, rgba(255,255,255,0.9));
}

body.theme-cp77 .district-features li { border-left-color: #fcee09; background: rgba(252,238,9,0.04); }
body.theme-drip .district-features li  { border-left: 3px solid #ff2d55; background: transparent; border-bottom: 1px solid rgba(255,255,255,0.05); }
body.theme-terminal .district-features li { border-left-color: #00ff41; background: rgba(0,255,65,0.03); }

/* ── Animations ── */
@keyframes cyberOpen {
  0%   { transform: scaleY(0.01) scaleX(0); opacity: 0; }
  40%  { transform: scaleY(0.01) scaleX(1); opacity: 1; }
  100% { transform: scaleY(1)    scaleX(1); }
}
@keyframes cyberClose {
  0%   { transform: scaleY(1) scaleX(1); }
  60%  { transform: scaleY(0.01) scaleX(1); opacity: 1; }
  100% { transform: scaleY(0.01) scaleX(0); opacity: 0; }
}

/* ── Responsive ── */
@media (max-width: 768px) {
  .map-container { margin-top: 24px; }
  .ascii-map { font-size: 0.58em; }
  .district-btn { min-width: 140px; padding: 10px 18px; }
}
